<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://www.epicgames.com/tos"/>
  <title>
   Sequencer Batch Rendering - Old UE4 Wiki
  </title>
  <link href="../styles.css" rel="stylesheet"/>
 </head>
 <body>
  <nav id="top-nav">
   <a href="../index.html" title="Home">
    Home
   </a>
  </nav>
  <div class="mw-body" id="content" role="main">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Sequencer Batch Rendering
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From Epic Wiki
    </div>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <p>
       <br/>
      </p>
      <div class="toc" id="toc">
       <div class="toctitle">
        <h2>
         Contents
        </h2>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Rendering_Movies.2FImage_Sequences_from_Command_Line">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Rendering Movies/Image Sequences from Command Line
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-2">
         <a href="#Basic_Formatting">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           Basic Formatting
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-3">
         <a href="#Command_Line_Arguments">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           Command Line Arguments
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-4">
           <a href="#Required">
            <span class="tocnumber">
             3.1
            </span>
            <span class="toctext">
             Required
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-5">
           <a href="#Secondary">
            <span class="tocnumber">
             3.2
            </span>
            <span class="toctext">
             Secondary
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-6">
         <a href="#Custom_Render_Passes">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           Custom Render Passes
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-7">
         <a href="#Console_Variables">
          <span class="tocnumber">
           5
          </span>
          <span class="toctext">
           Console Variables
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-8">
         <a href="#Examples">
          <span class="tocnumber">
           6
          </span>
          <span class="toctext">
           Examples
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-9">
           <a href="#Preview_Render">
            <span class="tocnumber">
             6.1
            </span>
            <span class="toctext">
             Preview Render
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-10">
           <a href="#Final_Renders">
            <span class="tocnumber">
             6.2
            </span>
            <span class="toctext">
             Final Renders
            </span>
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </div>
      <h1>
       <span class="mw-headline" id="Rendering_Movies.2FImage_Sequences_from_Command_Line">
        Rendering Movies/Image Sequences from Command Line
       </span>
      </h1>
      <p>
       This is a simple guide to the command line arguments that you may be interested in when rendering out cinematics from the command line. These will only work with Sequencer.
      </p>
      <p>
       A common use of these commands is
       <b>
        batch rendering
       </b>
       .  You can string these commands together in a batch file to render multiple Sequences in a row.  While this wiki isn't a tutorial on how to create a batch file, it is a guide on how to format in CMD and what arguments to use to render out a Sequence
      </p>
      <h1>
       <span class="mw-headline" id="Basic_Formatting">
        Basic Formatting
       </span>
      </h1>
      <p>
       For those of you who have never used the command line to launch the editor, here is the basic formatting with only the -game argument (leave quotes when using absolute paths or a path that uses spaces):
      </p>
      <pre> "FullPathToEngineInstallFolder\4.##\Engine\Binaries\Win64\UE4Editor.exe" "FullPathToProjectFolder\TestProject.uproject" MapName -game
</pre>
      <p>
       Depending on your file structure, you can use relative paths or in some cases the project name alone, but the above format covers any case.
      </p>
      <h1>
       <span class="mw-headline" id="Command_Line_Arguments">
        Command Line Arguments
       </span>
      </h1>
      <p>
       Command Line Arguments reference
      </p>
      <p>
       Some definitions below will mirror these:
       <a class="external free" href="https://docs.unrealengine.com/latest/INT/Programming/Basics/CommandLineArguments/index.html" rel="nofollow">
        https://docs.unrealengine.com/latest/INT/Programming/Basics/CommandLineArguments/index.html
       </a>
      </p>
      <p>
       All arguments require a hyphen before them. I.E. -game
      </p>
      <h2>
       <span class="mw-headline" id="Required">
        Required
       </span>
      </h2>
      <p>
       These are the basic arguments to render out an image sequence:
      </p>
      <table class="wikitable">
       <tbody>
        <tr>
         <th>
          Arg.
         </th>
         <th>
          Desc.
         </th>
        </tr>
        <tr>
         <td>
          <pre>-MovieSceneCaptureType="/Script/MovieSceneCapture.AutomatedLevelSequenceCapture"
</pre>
         </td>
         <td>
          References MovieSceneCapture.cpp, which defines many of the command line arguments listed here
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-LevelSequence="/Game/PathToSequence/SequenceName"
</pre>
         </td>
         <td colspan="1">
          Tells the editor which sequence to play
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-NoLoadingScreen
</pre>
         </td>
         <td colspan="1">
          -game instance of the editor will fail to render properly without this
         </td>
        </tr>
       </tbody>
      </table>
      <h2>
       <span class="mw-headline" id="Secondary">
        Secondary
       </span>
      </h2>
      <p>
       These are some of the recommended command line arguments to give you full control over image quality, rendering parameters, and file naming/type.  Final column includes recommendations on when to use the cmd argument:
      </p>
      <table class="wikitable">
       <tbody>
        <tr>
         <th>
          Arg.
         </th>
         <th>
          Desc.
         </th>
         <th>
          Notes
         </th>
         <th colspan="1">
          When to use
         </th>
        </tr>
        <tr>
         <td>
          <pre>-ResX=####
</pre>
         </td>
         <td>
          Set horizontal resolution for game window
         </td>
         <td>
          Eg: -ResX=1920
         </td>
         <td colspan="1">
          Lower res for previews, Higher for final
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-ResY=####
</pre>
         </td>
         <td colspan="1">
          Set vertical resolution for game window
         </td>
         <td colspan="1">
          Eg: -ResY=1080
         </td>
         <td colspan="1">
          Lower res for previews, Higher for final
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-ForceRes
</pre>
         </td>
         <td colspan="1">
          Forces the window to the specified resolution, even when larger than the screen resolution
         </td>
         <td colspan="1">
         </td>
         <td colspan="1">
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-VSync
</pre>
         </td>
         <td colspan="1">
          <span>
           <font color="rgb(22,22,23)">
            Activate the VSYNC via command line
           </font>
          </span>
         </td>
         <td colspan="1">
          High Perf cost, but doesn't hurt us since we aren't rendering in real-time
         </td>
         <td colspan="1">
          Final Renders
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-NoVSync
</pre>
         </td>
         <td colspan="1">
          Deactivate the VSYNC via command line
         </td>
         <td colspan="1">
          See Above
         </td>
         <td colspan="1">
          Preview Renders
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieFrameRate=30
</pre>
         </td>
         <td colspan="1">
          Sets the frame rate of the output
         </td>
         <td colspan="1">
          Overrides the default of 30fps
         </td>
         <td colspan="1">
          Depends on the needs of your cinematic (i.e. rhythmic movement suffers when using a low FPS, could be unwanted even in Previews)
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-NoTextureStreaming
</pre>
         </td>
         <td colspan="1">
          Disables texture streaming
         </td>
         <td colspan="1">
          Will take longer to render, but worth it for final renders.
         </td>
         <td colspan="1">
          Final Renders
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieFolder="PATH"
</pre>
         </td>
         <td colspan="1">
          Destination folder for rendered images
         </td>
         <td colspan="1">
          Defaults to Project/Saved/Screenshots
         </td>
         <td colspan="1">
          Recommended when batch rendering. Otherwise all image files dump into the same folder.
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieFormat=ASD
</pre>
         </td>
         <td colspan="1">
          Media format. JPG, BMP, PNG, or Video
         </td>
         <td colspan="1">
          Defaults to PNG
         </td>
         <td colspan="1">
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieQuality=##
</pre>
         </td>
         <td colspan="1">
          Sets the compression quality
         </td>
         <td colspan="1">
          Expressed in a percentage, defaults to 75
         </td>
         <td colspan="1">
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieName="Example.{frame}"
</pre>
         </td>
         <td colspan="1">
          Sets the naming format for the output files
         </td>
         <td colspan="1">
          * {fps}, {frame}, {width}, {height}, {world}, {quality}, {material}
         </td>
         <td colspan="1">
          Definitely recommended for batch rendering. Gives the files a unique name corresponding to the map name, render pass, etc.
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieCinematicMode=Yes/No
</pre>
         </td>
         <td colspan="1">
          Enables Cinematic Mode
         </td>
         <td colspan="1">
          Hides Player Character and disables Player Character Movement. Also disables HUD.
         </td>
         <td colspan="1">
          Usually a good idea to enable this all the time
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieWarmUpFrames=##
</pre>
         </td>
         <td colspan="1">
          Number of frames to run the scene before playing the sequence. This will not play out in real-time
         </td>
         <td colspan="1">
          Default of 0 frames. This will also run the frames before the beginning of your sequence's play range.
         </td>
         <td colspan="1">
          Useful when you have Particle Systems or physics that need to simulate before you begin recording.
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieDelayBeforeWarmUp=#
</pre>
         </td>
         <td colspan="1">
          Number of seconds before the Warmup Begins. Runs in real-time
         </td>
         <td colspan="1">
         </td>
         <td colspan="1">
          If you need to do anything with your pawn before the sequence starts.
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieStartFrame=###
</pre>
         </td>
         <td colspan="1">
          Overrides the start frame of your sequence
         </td>
         <td colspan="1">
          Defaults to the in and out markers in Sequencer
         </td>
         <td colspan="1">
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-MovieEndFrame=###
</pre>
         </td>
         <td colspan="1">
          Overrides the end frame of your sequence
         </td>
         <td colspan="1">
          <span>
           Defaults to the in and out markers in Sequencer
          </span>
         </td>
         <td colspan="1">
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-NoScreenMessages
</pre>
         </td>
         <td colspan="1">
          Hides on screen messages like "Rebuild Lighting" or "Pring String" outputs
         </td>
         <td colspan="1">
         </td>
         <td colspan="1">
         </td>
        </tr>
       </tbody>
      </table>
      <p>
       <br/>
      </p>
      <div class="toccolours mw-collapsible mw-collapsed" style="width:800px">
       <p>
        * MovieName Descriptions
       </p>
       <div class="mw-collapsible-content">
        <ul>
         <li>
          {fps} - The captured framerate
         </li>
         <li>
          {frame} - The current frame number (only relevant for image sequences)
         </li>
         <li>
          {width} - The width of the captured frames
         </li>
         <li>
          {height} - The height of the captured frames
         </li>
         <li>
          {world} - The name of the current world
         </li>
         <li>
          {quality} - The image compression quality setting
         </li>
         <li>
          {material} - The material/render pass
         </li>
        </ul>
       </div>
      </div>
      <h1>
       <span class="mw-headline" id="Custom_Render_Passes">
        Custom Render Passes
       </span>
      </h1>
      <p>
       Requires -MovieFormat=CustomRenderPasses and {material} in the -MovieName.
      </p>
      <table class="wikitable">
       <tbody>
        <tr>
         <th>
          Arg.
         </th>
         <th>
          Desc.
         </th>
         <th>
          Notes
         </th>
        </tr>
        <tr>
         <td>
          <pre>-CustomRenderPasses="RenderPassName"
</pre>
         </td>
         <td>
          Sets the custom render Pass
         </td>
         <td>
          <p>
           Options are (exclude parenthesis):
          </p>
          <p>
           AmbientOcclusion, BaseColor, CustomDepth, CustomDepthWorldUnits, CustomStencil, FinalImage, MaterialAO (Ambient Occlusion), Metallic, Opacity, PostTonemapHDRColor, Roughness, SceneColor, SceneDepth, SceneDepthWorldUnits, SeparateTranslucencyA (Alpha), SeparateTranslucencyRGB, ShadingModel, Specular, SubsurfaceColor, WorldNormal
          </p>
         </td>
        </tr>
        <tr>
         <td>
          <pre>-CaptureFramesInHDR
</pre>
         </td>
         <td>
          Renders with HDR in the .exr format
         </td>
         <td>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-HDRCompressionQuality=##
</pre>
         </td>
         <td colspan="1">
          Compression Quality for HDR Frames (0 for no compression, 1 for default compression which can be slow).
          <span>
           Dependent on -CaptureFramesInHDR
          </span>
         </td>
         <td colspan="1">
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-CaptureGamut="HCGM_Name"
</pre>
         </td>
         <td colspan="1">
          The color gamut to use when storing HDR captured data. Dependent on -CaptureFramesInHDR
         </td>
         <td colspan="1">
          <p>
           * HCGM_Rec709, HCGM_P3DCI, HCGM_Rec2020, HCGM_ACES, HCGM_ACEScg, HCGM_MAX
          </p>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <pre>-PostProcessingMaterial="MaterialPath"
</pre>
         </td>
         <td colspan="1">
          Custom Post Processing Material to use for rendering
         </td>
         <td colspan="1">
          Format looks like: "Material'/Engine/BufferVisualization/SceneDepth.SceneDepth'"
          <p>
           Easy way to get that path is to right click the material in the Content Browser and Copy Reference
          </p>
         </td>
        </tr>
       </tbody>
      </table>
      <div class="toccolours mw-collapsible mw-collapsed" style="width:800px">
       <p>
        * Capture Gamut Descriptions
       </p>
       <div class="mw-collapsible-content">
        <ul>
         <li>
          <span>
           HCGM_Rec709 - Rec. 709 / sRGB
          </span>
         </li>
         <li>
          <span>
           HCGM_P3DCI - P3 D65
          </span>
         </li>
         <li>
          <span>
           HCGM_Rec2020 - Rec. 2020
          </span>
         </li>
         <li>
          <span>
           HCGM_ACES - ACES
          </span>
         </li>
         <li>
          <span>
           HCGM_ACEScg - ACEScg
          </span>
         </li>
        </ul>
       </div>
      </div>
      <h1>
       <span class="mw-headline" id="Console_Variables">
        Console Variables
       </span>
      </h1>
      <p>
       There are some console variables that can be useful for the quality of your renders. Ã¯You'll want to add these to your //Game/Config/defaultEngine.ini.
      </p>
      <p>
       All the listed values are for highest quality
      </p>
      <table class="wikitable">
       <tbody>
        <tr>
         <th>
          Variable and Recommended Value
         </th>
         <th>
          Desc.
         </th>
        </tr>
        <tr>
         <td>
          r.ForceLOD=0
         </td>
         <td>
          Forces all LODs to 0. -1 is off.
         </td>
        </tr>
        <tr>
         <td>
          r.MotionBlurQuality=4
         </td>
         <td>
          <p>
           Defines the motion blur method which allows to adjust for quality or performance.
           <br/>
           0:off, 1:low, 2:medium, 3:high (default), 4: very high
          </p>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          <p>
           r.MotionBlurSeparable=1
          </p>
         </td>
         <td colspan="1">
          Adds a second motion blur pass that smooths noise for a higher quality blur. 0:off, 1:on
         </td>
        </tr>
        <tr>
         <td colspan="1">
          r.DepthOfFieldQuality=4
         </td>
         <td colspan="1">
          <p>
           Allows to adjust the depth of field quality. Currently only fully affects BokehDOF. GaussianDOF is either 0 for off, otherwise on.
           <br/>
           0: Off
           <br/>
           1: Low
           <br/>
           2: high quality (default, adaptive, can be 4x slower)
           <br/>
           3: very high quality, intended for non realtime cutscenes, CircleDOF only (slow)
           <br/>
           4: extremely high quality, intended for non realtime cutscenes, CircleDOF only (very slow)
          </p>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          r.HLOD=0
         </td>
         <td colspan="1">
          <p>
           Single argument: 0 or 1 to Disable/Enable HLOD System
           <br/>
           Multiple arguments: force X where X is the HLOD level that should be forced into view
          </p>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          r.SSR.Quality=4
         </td>
         <td colspan="1">
          <p>
           Whether to use screen space reflections and at what quality setting.
           <br/>
           (limits the setting in the post process settings which has a different scale)
           <br/>
           (costs performance, adds more visual realism but the technique has limits)
           <br/>
           0: off (default)
           <br/>
           1: low (no glossy)
           <br/>
           2: medium (no glossy)
           <br/>
           3: high (glossy/using roughness, few samples)
           <br/>
           4: very high (likely too slow for real-time)
          </p>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          r.ViewDistanceScale=30
         </td>
         <td colspan="1">
          <p>
           Controls the view distance scale. A primitive's MaxDrawDistance is scaled by this value.
           <br/>
           Higher values will increase view distance but at a performance cost.
          </p>
         </td>
        </tr>
        <tr>
         <td colspan="1">
          r.MipMapLODBias=-1
         </td>
         <td colspan="1">
          Apply additional mip map bias for all 2D textures, range of -15.0 to 15.0
         </td>
        </tr>
        <tr>
         <td colspan="1">
          r.Shadow.MaxResolution=4096
         </td>
         <td colspan="1">
          Max square dimensions (in texels) allowed for rendering shadow depths. Range 4 to hardware limit. Higher = better quality shadows but at a performance cost.
         </td>
        </tr>
       </tbody>
      </table>
      <h1>
       <span class="mw-headline" id="Examples">
        Examples
       </span>
      </h1>
      <p>
       Here are some full cmd arguments for different situations.  In the examples, these are the specifics of the project:
      </p>
      <ul>
       <li>
        Build Location = C:\Program Files (x86)\Epic Games\4.##\Engine\Binaries\Win64\UE4Editor.exe
       </li>
       <li>
        Project Location = D:\Unreal Projects\SequencerTestBed\SequencerTestBed.uproject
       </li>
       <li>
        Map Name = TestRender_Map.umap
       </li>
       <li>
        Sequence Name = Test_Render_SQ
       </li>
      </ul>
      <h2>
       <span class="mw-headline" id="Preview_Render">
        Preview Render
       </span>
      </h2>
      <p>
       This is for a 16:9 preview render at 30fps with a resolution of 1280x720 in the jpg format
      </p>
      <pre>"C:\Program Files (x86)\Epic Games\4.##\Engine\Binaries\Win64\UE4Editor.exe" "D:\Unreal Projects\SequencerTestBed\SequencerTestBed.uproject" /Game/TestRender/TestRender_Map -game -MovieSceneCaptureType="/Script/MovieSceneCapture.AutomatedLevelSequenceCapture" -LevelSequence="/Game/Test_Render/Test_Render_SQ" -MovieFrameRate=30 -noloadingscreen -resx=1280 -resy=720 -MovieFormat=JPG -MovieQuality=75
</pre>
      <h2>
       <span class="mw-headline" id="Final_Renders">
        Final Renders
       </span>
      </h2>
      <p>
       This is for final, full quality renders.  Aiming for 16:9 at 30fps, 3840x2160 resolution, BMP format
      </p>
      <pre>"C:\Program Files (x86)\Epic Games\4.##\Engine\Binaries\Win64\UE4Editor.exe" "D:\Unreal Projects\SequencerTestBed\SequencerTestBed.uproject" /Game/TestRender/TestRender_Map -game -MovieSceneCaptureType="/Script/MovieSceneCapture.AutomatedLevelSequenceCapture" -LevelSequence="/Game/Test_Render/Test_Render_SQ" -MovieFrameRate=30 -noloadingscreen -resx=3840 -resy=2160 -forceres -MovieFormat=BMP -MovieQuality=100 -notexturestreaming -MovieCinematicMode=yes -MovieWarmUpFrames=60
</pre>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
 </body>
</html>